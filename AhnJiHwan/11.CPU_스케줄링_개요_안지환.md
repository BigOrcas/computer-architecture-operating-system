# 11-1 CPU 스케줄링 개요
## 프로세스 우선순위

모든 프로세스는 CPU를 필요로 하고 CPU를 먼저 사용하고 싶어합니다.
운영체제에서는 프로세스들에게 공정하게 CPU 자원을 분배를 합니다. 이것을 CPU 스케줄링이라고 합니다.

그렇지만 만약 CPU 프로세스를 먼저 사용해야 경우가 있습니다. 왜냐하면 프로세스마다 우선순위가 다르기 때문입니다.
대부분 프로세스는 CPU와 입출력장치를 모두 사용하면서 실행됩니다. 프로세스는 실행 상태와 대기 상태 두 상태를 반복합니다.

프로세스의 중요도에 맞게 CPU를 이용할 수 있도록 운영체제에서는 프로세스마다 우선순위(`Priority`)를 부여 할 수 있습니다.

## 스케줄링 큐

CPU를 사용하는데 다음 프로세스를 찾기위해서 운영체제가 뒤적거리는 것은 비효율적입니다. 그래서 프로세스들을 줄을 세워서 관리를 합니다. 이를 스케줄링 큐(`Scheduling Queue`)라고 합니다.

대부분 운영체제는 큐(`Queue`)로 관리합니다. 대표적으로 준비 큐(`Ready Queue`)와 대기 큐(`Waiting Queue`)가 있습니다.

## 선점형과 비선점형 스케줄링

CPU 프로세스에서 다른 프로세스가 당장 사용하길 요청이 오면 어떻게 처리할까요?
지금 사용하고 있는 프로세스를 빼앗고 그 프로세스를 할당하는 방법이 있습니다.
혹은 CPU 사용 중인 프로세스의 작업이 끝날 때까지 프로세스를 기달리게 할 수 있습니다.

선점형 스케줄링(`Preemptive Scheduling`)은 프로세스가 CPU를 비롯한 자원을 빼앗고 다른 프로세스를 할당할 수 있는 방식의 스케줄링입니다.

비선점형 스케줄링(`Non-Preemptive Scheduling`)은 하나의 프로세스가 자원을 사용하고 있다면 그 프로세스가 종료되거나 스스로 대기 상태로 접어들기 전까지 끼어들 수 없는 스케줄링 방식입니다.

# 11-2 CPU 스케줄링 알고리즘

스케줄링 알고리즘의 종류는 여러가지가 있습니다. 그 중 몇 가지를 소개합니다.

## 스케줄링 알고리즘 종류

### 선입 선처리 스케줄링
선입 선처리 스케줄링 FCFS 스케줄링(`First Come First Served Scheduling`)이라고 부릅니다. 
준비 큐에 삽입된 순서대로 프로세스들을 처리하는 비선형 스케줄링 방식입니다.
단점은 프로세스들이 기다리는 시간이 매우 길어지는 경우가 있습니다.
오래 걸리는 CPU가 먼저 도착하면 가장 짧은 CPU 프로세스는 오래 걸리는 CPU가 끝날 때까지 기다려야 합니다. 이 경우는 **호위 효과**이라고 합니다.

### 최단 작업 우선 스케줄링
호위 효과를 방지하려면 CPU 사용 시간이 긴 프로세스를 맨 뒤로 보내고 짧은 사용 시간 CPU르 맨 앞으로 보내야 합니다.
준비 큐에 가장 짧은 CPU 시간의 길이의 프로세스를 먼저 실행하는 것을 최단 작업 우선 스케줄링 SJF 스케줄링(`Shortest Job First Scheduling`)이라고 합니다.

### 라운드 로빈 스케줄링
선입 선처리 스케줄링에 타임 슬라이스라는 개념이 더해진 스케줄링 방식입니다. 라운드 로빈 스케줄링은 정해진 슬라이스만큼 시간 동안 돌아가며 CPU를 이용하는 선점형 스케줄링입니다.

### 최소 잔여 시간 우선 스케줄링
최단 작업 우선 스케줄링 알고리즘과 라운드 로빈 알고리즘을 합친 스케줄링 방식입니다. 

### 우선순위 스케줄링
우선순위 스케불링은 프로세스의 우선순위를 부여하고 가장 높은 우선순위를 가진 프로세스부터 실행하는 스케줄링 알고리즘이라고 합니다.
우선순위 스케줄링은 근본적인 문제를 내포하고 있습니다. 우선순위가 높은 프로세스를 우선적으로 처리하고 우선순위가 낮은 프로세스는 계속해서 연기가 됩니다. 이를 기아 현상(`stavation`)이라고 합니다.
이를 방지하기 위해서 에이징(`aging`)기법이 있습니다.

### 다단계 큐 스케줄링
다단계 큐 스케줄링은 우선순위 스케줄링의 발전된 형태입니다. 다단계 큐 스케줄링은 우선순위별로 준비 큐를 여러 개 사용하는 스케줄링 방식입니다. 

### 다단계 피드백 큐 스케줄링
다단계 큐 스케줄리의 발전된 형태입니다. 우선순위가 낮은 프로세스 입장에서는 매우 불리하기 때문이 이를 보완하기 위해서 다단계 피드백 큐 스케줄링입니다.

프로세스들이 큐 사이를 이동할 수 있습니다. 다단계 피드백 큐 스케줄링에서 새로 준비 상태가 된 프로세스가 있다면 우선 우선순위가 가장 높은 우선순위 큐에 삽입되고 일정 시간 동안 실행됩니다.
